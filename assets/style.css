:root{
  --bg:#ffffff;--fg:#0f172a;--muted:#475569;--brand:#0b3d91;
  --card:#ffffff;--line:#e5e7eb;--maxw:1100px;--tocw:260px
}
@media (prefers-color-scheme: dark){
  :root{--bg:#0b1020;--fg:#e5e7eb;--muted:#cbd5e1;--brand:#7aa2ff;--card:#0f172a;--line:#1f2937}
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.6}
a{color:#0b67d1}

.hero{background:linear-gradient(90deg,var(--brand),#1f69d7);color:#fff;padding:32px 16px}
.hero-inner{max-width:var(--maxw);margin:0 auto}
.hero h1{margin:0 0 8px;font-size:32px}
.subtle{opacity:.95;margin:4px 0 12px}
.links a{color:#dbeafe;text-decoration:underline;margin-right:12px}

.layout{display:grid;grid-template-columns: minmax(0,1fr); gap:24px; max-width: calc(var(--maxw) + var(--tocw)); margin:24px auto; padding:0 16px}
@media (min-width: 1020px){
  .layout{grid-template-columns: var(--tocw) minmax(0,1fr)}
}

.toc{position:sticky; top:16px; align-self:start; border:1px solid var(--line); border-radius:12px; padding:12px; background:var(--card); height:max-content}
.toc h3{margin:4px 0 8px; font-size:14px; color:var(--muted)}
.toc a{display:block; font-size:14px; padding:6px 4px; color:var(--fg); text-decoration:none; border-radius:6px}
.toc a:hover{background:#eef2ff}

.section{margin:16px 0 40px}
.section > h2{margin:8px 0 8px; border-bottom:2px solid var(--line); padding-bottom:6px; scroll-margin-top:24px}
.section p.desc{margin:6px 0 16px; color:var(--muted)}

.callout{border:1px solid var(--line); background:var(--card); border-radius:12px; padding:12px; margin:12px 0 20px}
.callout ul{margin:6px 0 0 18px}

.grid{display:grid; gap:16px; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr))}
.grid.cols-1{grid-template-columns:1fr}
.grid.cols-2{grid-template-columns:repeat(2, minmax(380px,1fr))}
.grid.cols-3{grid-template-columns:repeat(3, minmax(320px,1fr))}

.card{border:1px solid var(--line); border-radius:12px; padding:14px; background:var(--card); box-shadow:0 1px 2px rgba(0,0,0,.05)}
.card h3{margin:0 0 10px; font-size:16px}
.card p{margin:10px 0 0; font-size:14px; color:var(--muted)}

audio{width:100%; margin-top:6px}
iframe.plot{width:100%; height:640px; border:0; border-radius:12px; background:#0b102008}
img{max-width:100%; height:auto; display:block; border-radius:12px}

footer{border-top:1px solid var(--line); padding:18px 16px; color:var(--muted); font-size:13px}
footer .inner{max-width:var(--maxw); margin:0 auto; display:flex; justify-content:space-between; gap:8px; flex-wrap:wrap}
